<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>{% if title %}{{ title }} â€“ Max Kohler {% else %}Max Kohler{% endif %}
	</title>
	<meta name="description" content="{% if intro %}{{ intro | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
	<link rel="stylesheet" href="{{"/main.css" | url }}">
	{% if canonical %}
	<link rel="canonical" href="{{canonical}}" />
	{% endif %}

	<meta property="fediverse:creator" content="@maxakohler" />
	<meta name="twitter:card" content="summary">
	<meta name="twitter:creator" content="@maxakohler">
	<meta name="twitter:site" content="@maxakohler">
	<meta name="twitter:title" content="{% if title %}{{ title }}{% else %}{{ site.title }}{% endif %}">
	<meta name="twitter:description" content="{% if intro %}{{ intro | strip_newlines | truncate: 160 }}{% endif %}">
	<meta name="twitter:image:src" content="{% if thumb %}{{ thumb }}{% endif %}">

	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

	{% if includesMath %}
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
	<script>
		MathJax = {
			tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] }
		};
	</script>
	{% endif %}
	{% if includesMermaid %}
	<script type="module">
		import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
		mermaid.initialize({ startOnLoad: true, theme: "base" });
	</script>
	{% endif %}

	{% if includesMusic %}
	<script src="https://cdnjs.cloudflare.com/ajax/libs/abcjs/3.1.1/abcjs_basic-min.js" type="text/javascript"></script>
	<script>
		function renderMusic() {
			let els = document.querySelectorAll('.music')
			for (let i = 0; i < els.length; i++) {
				el = els[i];
				let _id = 'music-' + i;
				el.setAttribute('id', _id);
				let data = String(el.innerHTML);
				console.log(data)
				ABCJS.renderAbc(el, data);
			}
			return true;
		}

		window.addEventListener('DOMContentLoaded', renderMusic);
	</script>
	{% endif %}
	{% include "matomo.liquid" %}
</head>